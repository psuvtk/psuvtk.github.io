---
title: "并查集"
date: 2023-04-15T22:15:47+08:00
draft: false
---

## 主要操作
1. 合并两个集合
2. 查询 两个元素是否在同一个集合


## 并查集优化(路径压缩)
WHY: 防止查询父节点时间过长

HOW: 让路径的店直接指向根节点 

代码实现:
```c
# tips: find的同时实现路径压缩

int find(int x)
{
    // 压缩路径
    if (p[x] != x) p[x] = find(p[x]);
    // 此时父节点就是新的父节点
    return p[x];
}
```

# 按秩优化(无用)
让矮的树接到高的树


## 基本模板题
836. 合并集合
837. 连通块中点的数量

## 练习题

食物链

WHY: 为什么 find的时候 需要 d[x] = d[p[x]]
ANS: 因为dx 是与父节点之间的距离，合并两棵树时，dx 并一定为 1, 因此后续压缩路径的时候dx并不一定为1